{% extends 'base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "Categorías" %} - {% trans "Todo Informática" %}{% endblock %}

{% block extra_css %}
  <style>
    /* Caja del icono con degradado */
    .icon-box {
        width: 70px;
        height: 70px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 16px;
        background: linear-gradient(135deg, #0d6efd, #0a58ca);
        box-shadow: 0 4px 10px rgba(13, 110, 253, 0.3);
        transition: transform 0.3s ease;
    }

    /* Efectos al pasar el ratón por la tarjeta */
    .card-hover {
        background-color: #fff;
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        border-radius: 20px;
    }

    .card-hover:hover {
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(0,0,0,0.1) !important;
    }

    /* Animación del icono al hacer hover */
    .card-hover:hover .icon-box {
        transform: scale(1.1) rotate(-5deg);
    }

    /* Animación de la flechita "Ver productos" */
    .transition-icon {
        transition: transform 0.3s ease;
    }
    .card-hover:hover .transition-icon {
        transform: translateX(5px);
    }
  </style>
{% endblock %}

{% block content %}
  
  <div class="text-center mb-5 animate-fade-up">
    <span class="badge bg-primary bg-opacity-10 text-primary mb-2 px-3 py-2 rounded-pill fw-bold">
        {% trans "CATÁLOGO" %}
    </span>
    <h1 class="display-4 fw-bold">{% trans "Explora por Categoría" %}</h1>
    <p class="lead text-muted mx-auto" style="max-width: 600px;">
        {% trans "Encuentra exactamente lo que necesitas navegando por nuestras secciones especializadas." %}
    </p>
  </div>

  <div class="row row-cols-1 row-cols-md-2 g-4">
    {% if tipos %}
      {% for tipo in tipos %}
        <div class="col">
          <a href="{% url 'detail' tipo.id %}" class="text-decoration-none text-dark">
            
            <div class="card h-100 border-0 shadow-sm card-hover p-2">
              <div class="card-body d-flex align-items-center">
                
                <div class="icon-box me-4 flex-shrink-0">
                    <i class="bi {{ tipo.get_icon }} fs-3 text-white"></i>
                </div>

                <div class="flex-grow-1">
                  <h3 class="h4 fw-bold mb-1">{{ tipo.nombre }}</h3>
                  <div class="d-flex align-items-center text-primary mt-2">
                    <span class="small fw-bold">{% trans "Ver productos" %}</span>
                    <i class="bi bi-arrow-right ms-2 transition-icon"></i>
                  </div>
                </div>

                <div class="ms-3 text-muted opacity-10 d-none d-sm-block">
                    <i class="bi bi-chevron-right display-4"></i>
                </div>

              </div>
            </div>

          </a>
        </div>
      {% endfor %}
    {% else %}
      <div class="col-12 text-center py-5">
        <div class="alert alert-light border shadow-sm" role="alert">
            <i class="bi bi-info-circle text-primary me-2"></i>
            {% trans "No hay categorías disponibles en este momento." %}
        </div>
      </div>
    {% endif %}
  </div>

{% endblock %}